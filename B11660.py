N,M=map(int,input().split())arr=[list(map(int,input().split())) for _ in range(N)]acc=[[0]*N for _ in range(N)]acc[0][0]=arr[0][0]for j in range(1,N):    acc[0][j]=acc[0][j-1]+arr[0][j]for i in range(1,N):    acc[i][0]=acc[i-1][0]+arr[i][0]for i in range(1,N):    for j in range(1,N):        acc[i][j]=acc[i-1][j]+acc[i][j-1]+arr[i][j]-acc[i-1][j-1]for _ in range(M):    x1,y1,x2,y2=map(int,input().split())    x1,y1,x2,y2=x1-1,y1-1,x2-1,y2-1    if x1==0 and y1==0:        print(acc[x2][y2])    elif x1==0 and y1!=0:        print(acc[x2][y2]-acc[x2][y1-1])    elif x1!= 0 and y1==0:        print(acc[x2][y2] - acc[x1 - 1][y2])    else:        print(acc[x2][y2]-acc[x1-1][y2]-acc[x2][y1-1]+acc[x1-1][y1-1])